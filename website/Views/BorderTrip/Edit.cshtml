@model Milton.Website.Models.BorderTrip.BorderTripViewModel

<section class="page-header alternative-header">
    <ol class="breadcrumb">
        <li>Milton</li>
        <li>Edit Border/Bus Trip</li>
    </ol>
    <div class="page-header_title">
        <h1>
            Edit Border/Bus Trip - @ViewBag.BorderTripId
        </h1>
    </div>
</section>
<section class="page-content">

    <div class="panel panel-default">
        <div class="panel-body">
            <form id="border-trip-form" class="form" action="/bordertrip/edit" method="post">
                <input type="hidden" id="AccountId" name="AccountId" value="@ViewBag.AccountId" />
                <h3>Edit Border Trip</h3>
                <div class="form-group">
                    <input class="form-control" id="Name" name="Name" type="text" value="@Model.Name" />
                    <label for="Name">Border Trip Name</label>
                </div>
                <div class="form-group">
                    <input class="form-control" id="Date" placeholder="MM/dd/yyyy" name="Date" type="text" value="@Model.Date" />
                    <label for="Date">Date</label>
                </div>
                <div class="form-group">
                    <input class="form-control" id="Amount" name="Amount" type="text" value="@Model.Amount" />
                    <label for="Amount">Amount</label>
                </div>
                <div class="form-group">
                    <textarea id="Description" rows="10" name="Description" class="form-control">@Model.Description</textarea>
                    <label for="Description">Description (List all Patients one after the other)</label>
                </div>
                <div class="form-group text-right">
                    <button type="submit" class="btn btn-primary materialRipple-light materialRipple-btn">Save<div class="materialRipple-md-ripple-container"></div></button>
                    <a class="btn btn-warning" href="/bordertrip">Cancel</a>
                </div>
            </form>
        </div>
    </div>



</section>

@section Scripts{

    <script type="text/javascript">

        $("#Date").datepicker();

        $('#border-trip-form').on('submit', function () {
            var val = false;
            if ($('#return').is(':checked')) val = true;
            $('#border-trip-form').append('<input type="hidden" name="ReturnTrip" value="' + val + '" />');
        });

        $(document).ready(function () {

            $("#Amount").keydown(function (e) {
                // Allow: backspace, delete, tab, escape, enter and .
                if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
                    // Allow: Ctrl+A, Command+A
                    (e.keyCode === 65 && (e.ctrlKey === true || e.metaKey === true)) ||
                    // Allow: home, end, left, right, down, up
                    (e.keyCode >= 35 && e.keyCode <= 40)) {
                    // let it happen, don't do anything
                    return;
                }
                // Ensure that it is a number and stop the keypress
                if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                    e.preventDefault();
                }
            });

            $('#border-trip-form').validate({
                rules: {
                    RegionId: {
                        required: true
                    },
                    Date: {
                        required: true
                    }
                },
                highlight: function (element) {
                    $(element).closest('.form-group').addClass('has-error');
                },
                unhighlight: function (element) {
                    $(element).closest('.form-group').removeClass('has-error');
                },
                errorElement: 'span',
                errorClass: 'help-block',
                errorPlacement: function (error, element) {
                    if (element.parent('.input-group').length) {
                        error.insertAfter(element.parent());
                    } else {
                        error.insertAfter(element);
                    }
                }
            });
        });

    </script>

}